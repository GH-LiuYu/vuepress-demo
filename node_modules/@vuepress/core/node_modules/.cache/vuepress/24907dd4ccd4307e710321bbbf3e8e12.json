{"remainingRequest":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\vuepress-plugin-cursor-effects\\bin\\CursorEffects.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\vuepress-plugin-cursor-effects\\bin\\CursorEffects.vue","mtime":1613327981000},{"path":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637716121766},{"path":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1637716120847},{"path":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637716121766},{"path":"F:\\www\\blog\\vuepress\\vuepress-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1637716141004}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCB7IEJvb20gfSBmcm9tICcuL2Fzc2V0cy9qcy9ib29tLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0N1cnNvckVmZmVjdHMnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaGFwZTogRUZGRUNUU19TSEFQRSwKICAgICAgc2l6ZTogRUZGRUNUU19TSVpFLAogICAgICB6SW5kZXg6IEVGRkVDVFNfWl9JTkRFWCwKICAgICAgY29tcHV0ZXJDYW52YXM6IG51bGwsCiAgICAgIHJlbmRlckNhbnZhczogbnVsbCwKICAgICAgY29tcHV0ZXJDb250ZXh0OiBudWxsLAogICAgICByZW5kZXJDb250ZXh0OiBudWxsLAogICAgICBjbGllbnRTaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSwKICAgICAgcmVzaXplVGltZW91dDogbnVsbCwKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbXB1dGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykKICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Z1ZXByZXNzLWNhbnZhcy1jdXJzb3InKQoKICAgIHRoaXMuY29tcHV0ZXJDb250ZXh0ID0gdGhpcy5jb21wdXRlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICB0aGlzLnJlbmRlckNvbnRleHQgPSB0aGlzLnJlbmRlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCgogICAgdGhpcy5jbGllbnRTaXplLndpZHRoID0gd2luZG93LmlubmVyV2lkdGgKICAgIHRoaXMuY2xpZW50U2l6ZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQKCiAgICB0aGlzLmJvb21zID0gW10KICAgIHRoaXMucnVubmluZyA9IGZhbHNlCiAgICB0aGlzLmluaXQoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuc2V0U3R5bGUodGhpcy5yZW5kZXJDYW52YXMuc3R5bGUpCiAgICAgIHRoaXMucmVuZGVyQ2FudmFzLndpZHRoID0gdGhpcy5jb21wdXRlckNhbnZhcy53aWR0aCA9IHRoaXMuY2xpZW50U2l6ZS53aWR0aAogICAgICB0aGlzLnJlbmRlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNvbXB1dGVyQ2FudmFzLmhlaWdodCA9IHRoaXMuY2xpZW50U2l6ZS5oZWlnaHQKICAgICAgdGhpcy5tYWtlSGlnaFJlcyh0aGlzLnJlbmRlckNhbnZhcywgdGhpcy5yZW5kZXJDb250ZXh0KQogICAgICB0aGlzLm1ha2VIaWdoUmVzKHRoaXMuY29tcHV0ZXJDYW52YXMsIHRoaXMuY29tcHV0ZXJDb250ZXh0KQoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VEb3duKQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZWhpZGUnLCB0aGlzLmhhbmRsZVBhZ2VIaWRlKQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpCiAgICB9LAoKICAgIHNldFN0eWxlKHN0eWxlKSB7CiAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJwogICAgICBzdHlsZS50b3AgPSAwCiAgICAgIHN0eWxlLmxlZnQgPSAwCiAgICAgIHN0eWxlLnpJbmRleCA9IHRoaXMuekluZGV4CiAgICAgIHN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZScKICAgICAgc3R5bGUud2lkdGggPSB0aGlzLmNsaWVudFNpemUud2lkdGgKICAgICAgc3R5bGUuaGVpZ2h0ID0gdGhpcy5jbGllbnRTaXplLmhlaWdodAogICAgfSwKCiAgICBtYWtlSGlnaFJlcyhjYW52YXMsIGN0eCkgewogICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxCgogICAgICBjb25zdCBvbGRXaWR0aCA9IGNhbnZhcy53aWR0aAogICAgICBjb25zdCBvbGRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0CgogICAgICBjYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKG9sZFdpZHRoICogZHByKQogICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChvbGRIZWlnaHQgKiBkcHIpCiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IG9sZFdpZHRoICsgJ3B4JwogICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb2xkSGVpZ2h0ICsgJ3B4JwoKICAgICAgY3R4LnNjYWxlKGRwciwgZHByKQogICAgfSwKCiAgICBoYW5kbGVNb3VzZURvd24oZSkgewogICAgICBjb25zdCBib29tID0gbmV3IEJvb20oewogICAgICAgIG9yaWdpbjogeyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9LAogICAgICAgIGNvbnRleHQ6IHRoaXMuY29tcHV0ZXJDb250ZXh0LAogICAgICAgIHNpemU6IHRoaXMuc2l6ZSwKICAgICAgICBzaGFwZTogdGhpcy5zaGFwZSwKICAgICAgICBjbGllbnRTaXplOiB0aGlzLmNsaWVudFNpemUsCiAgICAgIH0pCiAgICAgIGJvb20uaW5pdCgpCiAgICAgIHRoaXMuYm9vbXMucHVzaChib29tKQogICAgICB0aGlzLnJ1bm5pbmcgfHwgdGhpcy5ydW4oKQogICAgfSwKCiAgICBoYW5kbGVQYWdlSGlkZSgpIHsKICAgICAgdGhpcy5ib29tcyA9IFtdCiAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlCiAgICB9LAoKICAgIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgaWYgKHRoaXMucmVzaXplVGltZW91dCAhPSBudWxsKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCkKICAgICAgfQogICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmNsaWVudFNpemUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aAogICAgICAgIHRoaXMuY2xpZW50U2l6ZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQKICAgICAgICB0aGlzLnJlbmRlckNhbnZhcy53aWR0aCA9IHRoaXMuY29tcHV0ZXJDYW52YXMud2lkdGggPSB0aGlzLmNsaWVudFNpemUud2lkdGgKICAgICAgICB0aGlzLnJlbmRlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNvbXB1dGVyQ2FudmFzLmhlaWdodCA9IHRoaXMuY2xpZW50U2l6ZS5oZWlnaHQKICAgICAgICB0aGlzLm1ha2VIaWdoUmVzKHRoaXMucmVuZGVyQ2FudmFzLCB0aGlzLnJlbmRlckNvbnRleHQpCiAgICAgICAgdGhpcy5tYWtlSGlnaFJlcyh0aGlzLmNvbXB1dGVyQ2FudmFzLCB0aGlzLmNvbXB1dGVyQ29udGV4dCkKICAgICAgfSwgNTAwKQogICAgfSwKCiAgICBydW4oKSB7CiAgICAgIHRoaXMucnVubmluZyA9IHRydWUKICAgICAgaWYgKHRoaXMuYm9vbXMubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm4gKHRoaXMucnVubmluZyA9IGZhbHNlKQogICAgICB9CgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5ydW4pCgogICAgICB0aGlzLmNvbXB1dGVyQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jbGllbnRTaXplLndpZHRoLCB0aGlzLmNsaWVudFNpemUuaGVpZ2h0KQogICAgICB0aGlzLnJlbmRlckNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2xpZW50U2l6ZS53aWR0aCwgdGhpcy5jbGllbnRTaXplLmhlaWdodCkKCiAgICAgIHRoaXMuYm9vbXMuZm9yRWFjaCgoYm9vbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoYm9vbS5zdG9wKSB7CiAgICAgICAgICB0aGlzLmJvb21zLnNwbGljZShpbmRleCwgMSkKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBib29tLm1vdmUoKQogICAgICAgIGJvb20uZHJhdygpCiAgICAgIH0pCiAgICAgIHRoaXMucmVuZGVyQ29udGV4dC5kcmF3SW1hZ2UoCiAgICAgICAgdGhpcy5jb21wdXRlckNhbnZhcywKICAgICAgICAwLAogICAgICAgIDAsCiAgICAgICAgdGhpcy5jbGllbnRTaXplLndpZHRoLAogICAgICAgIHRoaXMuY2xpZW50U2l6ZS5oZWlnaHQKICAgICAgKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["CursorEffects.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CursorEffects.vue","sourceRoot":"node_modules/vuepress-plugin-cursor-effects/bin","sourcesContent":["<template>\n  <canvas id=\"vuepress-canvas-cursor\"></canvas>\n</template>\n\n<script>\nimport { Boom } from './assets/js/boom.js'\nexport default {\n  name: 'CursorEffects',\n  data() {\n    return {\n      shape: EFFECTS_SHAPE,\n      size: EFFECTS_SIZE,\n      zIndex: EFFECTS_Z_INDEX,\n      computerCanvas: null,\n      renderCanvas: null,\n      computerContext: null,\n      renderContext: null,\n      clientSize: { width: 0, height: 0 },\n      resizeTimeout: null,\n    }\n  },\n  mounted() {\n    this.computerCanvas = document.createElement('canvas')\n    this.renderCanvas = document.getElementById('vuepress-canvas-cursor')\n\n    this.computerContext = this.computerCanvas.getContext('2d')\n    this.renderContext = this.renderCanvas.getContext('2d')\n\n    this.clientSize.width = window.innerWidth\n    this.clientSize.height = window.innerHeight\n\n    this.booms = []\n    this.running = false\n    this.init()\n  },\n\n  methods: {\n    init() {\n      this.setStyle(this.renderCanvas.style)\n      this.renderCanvas.width = this.computerCanvas.width = this.clientSize.width\n      this.renderCanvas.height = this.computerCanvas.height = this.clientSize.height\n      this.makeHighRes(this.renderCanvas, this.renderContext)\n      this.makeHighRes(this.computerCanvas, this.computerContext)\n\n      window.addEventListener('mousedown', this.handleMouseDown)\n      window.addEventListener('pagehide', this.handlePageHide)\n      window.addEventListener('resize', this.handleResize)\n    },\n\n    setStyle(style) {\n      style.position = 'fixed'\n      style.top = 0\n      style.left = 0\n      style.zIndex = this.zIndex\n      style.pointerEvents = 'none'\n      style.width = this.clientSize.width\n      style.height = this.clientSize.height\n    },\n\n    makeHighRes(canvas, ctx) {\n      const dpr = window.devicePixelRatio || 1\n\n      const oldWidth = canvas.width\n      const oldHeight = canvas.height\n\n      canvas.width = Math.round(oldWidth * dpr)\n      canvas.height = Math.round(oldHeight * dpr)\n      canvas.style.width = oldWidth + 'px'\n      canvas.style.height = oldHeight + 'px'\n\n      ctx.scale(dpr, dpr)\n    },\n\n    handleMouseDown(e) {\n      const boom = new Boom({\n        origin: { x: e.clientX, y: e.clientY },\n        context: this.computerContext,\n        size: this.size,\n        shape: this.shape,\n        clientSize: this.clientSize,\n      })\n      boom.init()\n      this.booms.push(boom)\n      this.running || this.run()\n    },\n\n    handlePageHide() {\n      this.booms = []\n      this.running = false\n    },\n\n    handleResize() {\n      if (this.resizeTimeout != null) {\n        clearTimeout(this.resizeTimeout)\n      }\n      this.resizeTimeout = setTimeout(() => {\n        this.clientSize.width = window.innerWidth\n        this.clientSize.height = window.innerHeight\n        this.renderCanvas.width = this.computerCanvas.width = this.clientSize.width\n        this.renderCanvas.height = this.computerCanvas.height = this.clientSize.height\n        this.makeHighRes(this.renderCanvas, this.renderContext)\n        this.makeHighRes(this.computerCanvas, this.computerContext)\n      }, 500)\n    },\n\n    run() {\n      this.running = true\n      if (this.booms.length == 0) {\n        return (this.running = false)\n      }\n\n      requestAnimationFrame(this.run)\n\n      this.computerContext.clearRect(0, 0, this.clientSize.width, this.clientSize.height)\n      this.renderContext.clearRect(0, 0, this.clientSize.width, this.clientSize.height)\n\n      this.booms.forEach((boom, index) => {\n        if (boom.stop) {\n          this.booms.splice(index, 1)\n          return\n        }\n        boom.move()\n        boom.draw()\n      })\n      this.renderContext.drawImage(\n        this.computerCanvas,\n        0,\n        0,\n        this.clientSize.width,\n        this.clientSize.height\n      )\n    },\n  },\n}\n</script>\n"]}]}